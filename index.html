<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHEF.convex Style Code Runner</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.min.css">
</head>
<body>
    <div class="container">
        <!-- Left Side: Chat Interface -->
        <div class="left-panel">
            <div class="chat-header">
                <div class="chat-title">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span>Initial chat</span>
                </div>
                <button class="new-chat-btn">+</button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message assistant-message">
                    <div class="message-avatar">ðŸ¤–</div>
                    <div class="message-content">
                        <p>Welcome! I'm your AI assistant. Let me know what you'd like to build or run!</p>
                    </div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <textarea id="chatInput" placeholder="Type your message here..." rows="3"></textarea>
                <button id="sendBtn" class="send-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Resizable Divider -->
        <div class="divider" id="divider"></div>

        <!-- Right Side: Code Editor & Execution -->
        <div class="right-panel">
            <div class="editor-container">
                <!-- Tabs -->
                <div class="tabs">
                    <button class="tab active" data-tab="code">Code</button>
                    <button class="tab" data-tab="preview">Preview</button>
                    <button class="tab" data-tab="database">Database</button>
                    <button class="terminal-toggle" id="terminalToggle">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="4 17 10 11 4 5"></polyline>
                            <line x1="12" y1="19" x2="20" y2="19"></line>
                        </svg>
                        Toggle Terminal
                    </button>
                </div>

                <!-- File Tree -->
                <div class="file-tree" id="fileTree">
                    <div class="file-tree-header">
                        <span>Files</span>
                        <button class="collapse-btn" id="collapseTree">â—€</button>
                    </div>
                    <div class="file-tree-content">
                        <div class="folder expanded">
                            <div class="folder-name">
                                <span class="folder-icon">â–¼</span> src
                            </div>
                            <div class="folder-contents">
                                <div class="file active" data-file="main.js">
                                    <span class="file-icon">ðŸ“„</span> main.js
                                </div>
                                <div class="file" data-file="utils.js">
                                    <span class="file-icon">ðŸ“„</span> utils.js
                                </div>
                                <div class="file" data-file="styles.css">
                                    <span class="file-icon">ðŸ“„</span> styles.css
                                </div>
                            </div>
                        </div>
                        <div class="file" data-file="index.html">
                            <span class="file-icon">ðŸ“„</span> index.html
                        </div>
                        <div class="file" data-file="README.md">
                            <span class="file-icon">ðŸ“„</span> README.md
                        </div>
                    </div>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <div class="tab-pane active" id="codePane">
                        <div class="code-editor-wrapper">
                            <div class="file-path">
                                <span class="path-text">src > main.js</span>
                                <button class="run-btn" id="runBtn">â–¶ Run</button>
                            </div>
                            <div id="editor"></div>
                        </div>
                    </div>
                    
                    <div class="tab-pane" id="previewPane">
                        <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
                    </div>
                    
                    <div class="tab-pane" id="databasePane">
                        <div class="database-view">
                            <h3>Database Viewer</h3>
                            <p>Connect to your database to view tables and data</p>
                        </div>
                    </div>
                </div>

                <!-- Terminal -->
                <div class="terminal" id="terminal">
                    <div class="terminal-header">
                        <span>Terminal</span>
                        <button class="close-terminal" id="closeTerminal">âœ•</button>
                    </div>
                    <div class="terminal-content" id="terminalContent">
                        <div class="terminal-line">$ Ready to execute code...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
